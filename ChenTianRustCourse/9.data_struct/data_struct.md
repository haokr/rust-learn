## 智能指针

在 Rust 中，凡是需要做资源回收的数据结构，且实现了 Deref/DerefMut/Drop，都是智能指针。

## Slice

在 Rust 里，切面描述的是一组属于同一类型、长度不确定的、在内存中连续存放的数据结构，用 [T] 来表述。因为长度不确定，所以切片是个 DSR（Dynamically Sized Type）。

主要存在形式：
1. &[T]：表示一个只读的切片引用
2. &mut [T]：表示一个可写的切片引用
3. Box<[T]>：一个在堆上分配的切片

&[T] 和 &[T] 是否相等取决于长度和内容是否相等。

Box<[T]> 和 Vec<T> 的区别
- Vec 有额外的 capacity，可以增长
- Box<[T]> 一旦生成就固定下来，没有 capacity，无法增长

Box<[T]> 和 切片的引用 &[T] 的区别
- 相同点：都是在栈上有一个包含长度的胖指针，指向存储数据的内存位置
- Box<[T]> 只会指向堆，&[T] 指向的位置可以是栈，也可以是堆
- Box<[T]> 堆数据有所有权，&[T] 只是一个借用

Box<[T]> 只能从 vec<T> 转化得来。

Box<[T]> 有一个很好的特性是，不像 Box<[T;n]> 那样在编译器就要缺点大小，它可以在运行期生成，以后大小不会再改变。  
所以，当我们需要在堆上创建固定大小的集合数据，且不希望自动增长那么，可以先创建 Vec<T>，再转换成 Box<[T]>。



